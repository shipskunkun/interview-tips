<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>面向对象</title>
  </head>
  <body>
    <script type="text/javascript">
    	/*
    	//构造函数
      	function Parent1(){
		    this.name ="Parent1";
		    this.say = function() {};
		}

		    
		    
		function Child1(){
		    Parent1.call(this);
		    this.type="child1";
		}

		let child1 = new Child1();
		let child2 = new Child1();
		console.log(child1.say === child2.say); //false
		console.log(child1.name === child2.name); //true
		console.log(child1 );
		



		//原型链函数

		function Parent2(){
		    this.name ="parent2";
		}
		Parent2.prototype.say = function(){}
		    
		function Child2(){
		    this.type="child2";
		}
		    
		//prototype作用为了让这个构造函数（Child2）的实例能访问到原型对象上
		Child2.prototype = new Parent2();


		let child2 = new Child2();
		let child1 = new Child2();

		console.log(child2)

		console.log(child1.say === child2.say);

		console.log(Child2.prototype.__proto__ === Parent2.prototype);

		
		console.log(new Child2().__proto__.__proto__ === Parent2.prototype);//.__proto__===Child2.prototype
		

		
		/*
		//组合继承
		function Parent2(){
		    this.name ="parent2";
		    this.play = [1,2,3,4];
		}
		    
		function Child2(){
			Parent2.call(this);
		    this.type="child2";
		}
		 
		Child2.prototype = new Parent2();
		Child2.prototype.constructor = Child2;

		let child1 = new Child2();
		let child2 = new Child2();
		child1.play.push(5);
		console.log(child1);
		console.log(child2);

		console.log(child1 instanceof Child2);
		console.log(child2.constructor === Child2);
		


		// 组合继承优化一
		function Parent2(){
		    this.name ="parent2";
		    this.play = [1,2,3,4];
		}
		    
		function Child2(){
			Parent2.call(this);
		    this.type="child2";
		}
		 
		Child2.prototype = Parent2.prototype;
		Child2.prototype.constructor = Child2;

		let child1 = new Child2();
		let child2 = new Child2();
		let parent1 = new Parent2();
		child1.play.push(5);
		console.log(child1.constructor === Child2 );
		console.log(parent1.constructor === Child2);  
		*/
		

		function Parent2(){
		    this.name ="parent2";
		    this.play = [1,2,3,4];
		}
		    
		function Child2(){
			// Parent2.call(this);
		    this.type="child2";
		}
		 
		Child2.prototype = Object.create(new Parent2());
		Child2.prototype.constructor = Child2;




		let child1 = new Child2();
		let child2 = new Child2();

		console.log(child1.__proto__  === child2.__proto__)
		child1.play.push(5);
		console.log(child1.play);
		console.log(child2.play); 

    </script>
  </body>
</html>
